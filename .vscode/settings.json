//////////////////////////////////////////////////////////////////////////////
// Project Settings for VSCode family of IDEs
// ===========================================================================
//
// Settings for VSCode and VSCode-based IDEs (Cursor, etc.). Mostly about
// automatically formatting files consistently.
//
//////////////////////////////////////////////////////////////////////////////
{
  // Python
  // ===========================================================================

  "[python]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "charliermarsh.ruff"
  },

  // CMake
  // ===========================================================================

  // IDK why CMake tried to get involved, but we don't want it here
  "cmake.configureOnOpen": false,

  // cSpell
  // ===========================================================================

  // Custom dict file for project-specific "words", so that they don't come to
  // complicate this file.
  //
  // When adding a new project-specific word to cSpell you can to choose the
  // "add <word> to dictionary: splatlog" option.
  "cSpell.customDictionaries": {
    "pm": {
      "name": "splatlog (project)",
      "description": "Custom dict for this project",
      "path": "${workspaceFolder}/.vscode/cspell-dict.txt",
      "addWords": true
    }
  },

  // Cursor Pyright
  // ===========================================================================
  //
  // Cursor's own flavor of Microsoft's [Pyright][] extension for Python type
  // checking.
  //
  // [Pyright]: https://github.com/microsoft/pyright

  // Yes, let's enable some type checking. We can't do `"full"`, because that
  // never works. IDK why `"basic"` got picked, but it seems reasonable, and at
  // least it's something. TODO try out other ones?
  "cursorpyright.analysis.typeCheckingMode": "basic",

  // Don't automatically prepend `f` to strings when typing `{` in them. Gets in
  // the way of adding `{py:...}` prefixes to referenced names in docstrings.
  "cursorpyright.analysis.autoFormatStrings": false,

  // Jupyter Notebooks
  // ===========================================================================
  // 
  // It's `notebook.`, _not_ `[jupyter].`!

  // Format (code blocks) on save, analogue to `[python].editor.formatOnSave`
  "notebook.formatOnSave.enabled": true,

  // Format on cell execution as well
  "notebook.formatOnCellExecution": true,

  // Ruff
  // ===========================================================================
  // 
  // Source code formatter for Python. The new standard, yet again! Does seem to
  // actually listen about line length, so that's nice.

  "ruff.lineLength": 80,

  "terminal.integrated.profiles.osx": {
    "zsh": {
      "path": "/bin/zsh",
      "args": [],
      "overrideName": true
    }
  },

  "terminal.integrated.defaultProfile.osx": "zsh",

  "python.terminal.activateEnvironment": false
}